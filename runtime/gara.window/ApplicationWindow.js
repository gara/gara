gara.provide("gara.window.ApplicationWindow","gara.window.Window");gara.use("gara.widgets.Display");gara.use("gara.widgets.Shell");gara.use("gara.action.MenuManager");gara.Class("gara.window.ApplicationWindow",function(){return{$extends:gara.window.Window,actions:null,showMenuBar:false,menuBarManager:null,showToolBar:false,toolBarControl:null,toolBarManager:null,$constructor:function(a){this.$super(a);this.menuBarManager=null;this.toolBarControl=null;this.toolBarManager=null;this.showMenuBar=false;this.showToolBar=false;this.actions={}},close:function(){this.preWindowShellClose();if(this.menuBarManager!==null){this.menuBarManager.dispose();this.menuBarManager=null}if(this.toolBarManager!==null){this.toolBarManager.dispose();this.toolBarManager=null}this.$super();this.postWindowClose()},createContents:function(a){var b;if(!(a instanceof gara.widgets.Composite)){throw new TypeError("parent not instance of gara.widgets.Composite");}if(this.showMenuBar){this.menuBarManager=this.createMenuManager()}if(this.showToolBar){this.toolBarManager=this.createToolBarManager()}this.fillActionBars();if(this.menuBarManager!==null){this.shell.setMenuBar(this.menuBarManager.createMenuBar(a));this.menuBarManager.update()}this.createToolBarControl(a);b=this.createPageComposite(a);this.createWindowContents(b);return b},createMenuManager:function(){return new gara.action.MenuManager()},createPageComposite:function(a){return new gara.widgets.Composite(a)},createToolBarControl:function(a){if(this.toolBarManager!==null){this.toolBarControl=this.toolBarManager.createToolBar(a)}},createToolBarManager:function(){return new gara.action.MenuManager()},createWindowContents:function(a){},fillActionBars:function(){this.makeActions();if(this.showMenuBar){this.fillMenuBar(this.menuBarManager)}if(this.showToolBar){this.fillToolBar(this.toolBarManager)}},fillMenuBar:function(a){},fillToolBar:function(a){},getAction:function(a){if(Object.prototype.hasOwnProperty.call(this.actions,a)){return this.actions[a]}return null},getMenuBarManager:function(){return this.menuBarManager},getShellStyle:function(){return gara.BORDER},getToolBarManager:function(){return this.toolBarManager},makeActions:function(){},open:function(a,b){this.preWindowOpen();if(this.shell==null||this.shell.isDisposed()){this.shell=null;this.create();this.postWindowCreate()}this.callback=a||this.callback;this.context=b||this.context;this.shell.open();this.shell.layout();this.postWindowOpen()},preWindowOpen:function(){},preWindowShellClose:function(){},postWindowClose:function(){},postWindowCreate:function(){},postWindowOpen:function(){},register:function(a){if(!a.getId){throw new TypeError("action is not implementing IAction, getId is missing");}var b=a.getId();if(b===null){throw new Error("action.getId must not null");}this.actions[b]=a},setShowMenuBar:function(a){this.showMenuBar=a},setShowToolBar:function(a){this.showToolBar=a}}});