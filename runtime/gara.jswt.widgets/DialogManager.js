gara.provide("gara.jswt.widgets.DialogManager");gara.use("gara.jswt.JSWT");gara.require("gara.EventManager");gara.Class("gara.jswt.widgets.DialogManager",{_instance:gara.static(null),$constructor:function(){this._activeDialog=null;this._dialogs=[];this._recents=[];gara.EventManager.addListener(document,"keydown",this)},getInstance:gara.static(function(){if(this._instance==null){this._instance=new gara.jswt.widgets.DialogManager()}return this._instance}),activate:function(b){if(!b.open){throw new TypeError("dialog is not a gara.jswt.widgets.Dialog");}if(this._activeDialog!=b){if(this._activeDialog!=null){this._activeDialog.handle.style.zIndex=600}this._activeDialog=b;this._recents.remove(b);this._recents.insertAt(0,b);this._recents.forEach(function(a,c){a.handle.style.zIndex=600+(this._dialogs.length-c)},this);if((this._activeDialog.getStyle()&gara.jswt.JSWT.APPLICATION_MODAL)==gara.jswt.JSWT.APPLICATION_MODAL){this._activeDialog.handle.style.zIndex=651}}},addDialog:function(a){if(!a.open){throw new TypeError("dialog is not a gara.jswt.widgets.Dialog");}if(!this._dialogs.contains(a)){this._dialogs.push(a);this._recents.push(a)}},getActiveDialog:function(){if(this._activeDialog!=null){return this._activeDialog}return null},getDialogs:function(){return this._dialogs},handleEvent:function(a){switch(a.type){case"mousedown":if(a.target.obj&&dialog.open){this.activate(a.target.obj)}break;case"keydown":if(this._activeDialog!=null&&a.keyCode==9){return false}break}},removeDialog:function(a){if(!a.open){throw new TypeError("dialog is not a gara.jswt.widgets.Dialog");}if(this._dialogs.contains(a)){if(this._activeDialog==a){this._activeDialog=null}this._dialogs.remove(a)}}});