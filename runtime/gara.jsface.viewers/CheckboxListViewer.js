gara.provide("gara.jsface.viewers.CheckboxListViewer");gara.require("gara.jsface.viewers.ListViewer");gara.require("gara.jsface.viewers.ICheckable");gara.require("gara.jsface.viewers.ICheckStateListener");gara.require("gara.jsface.viewers.ICheckStateChangedEvent");gara.require("gara.jswt.JSWT");gara.require("gara.jswt.widgets.List");$package("gara.jsface.viewers");$class("CheckboxListViewer",{$extends:gara.jsface.viewers.ListViewer,$implements:[gara.jsface.viewers.ICheckable],$constructor:function(a){if(!$class.instanceOf(a,gara.jswt.widgets.List)){throw new TypeError("list not instance of gara.jswt.widgets.List");}this._checkStateListener=[];this.$base(a)},newCheckList:$static(function(a,b){var c=new gara.jswt.widgets.List(a,b|gara.jswt.JSWT.CHECK);return new gara.jsface.viewers.CheckboxListViewer(c)}),_fireCheckStateChanged:function(d){this._checkStateListener.forEach(function(a,b,c){a.checkStateChanged(d)})},addCheckStateListener:function(a){if(!$class.instanceOf(a,gara.jsface.viewers.ICheckStateListener)){throw new TypeError("listener not instance of gara.jsface.viewers.ICheckStateListener");}if(!this._checkStateListener.contains(a)){this._checkStateListener.push(a)}},getChecked:function(a){var b=this._getItemFromElementMap(a);if(b!=null){return b.getChecked()}return null},getCheckedElements:function(){var d=this._list.getItems();var e=[];d.forEach(function(a,b,c){if(a.getChecked()){e.push(a.getData())}},this);return e},getGrayed:function(a){var b=this._getItemFromElementMap(a);if(b!=null){return b.getGrayed()}return null},getGrayedElements:function(){var d=this._list.getItems();var e=[];d.forEach(function(a,b,c){if(a.getGrayed()){e.push(a.getData())}},this);return e},_handleSelect:function(a){this.$base(a);if(a.garaDetail&&a.garaDetail==gara.jswt.JSWT.CHECK){var b=a.item;var c=b.getData();if(c!=null){this._fireCheckStateChanged(new gara.jsface.viewers.CheckStateChangedEvent(this,c,!b.getChecked()))}}},removeCheckStateListener:function(a){if(!$class.instanceOf(a,gara.jsface.viewers.ICheckStateListener)){throw new TypeError("listener not instance of gara.jsface.viewers.ICheckStateListener");}this._checkStateListener.remove(a)},setAllChecked:function(d){var e=this._list.getItems();e.forEach(function(a,b,c){a.setChecked(d)},this)},setAllGrayed:function(d){var e=this._list.getItems();e.forEach(function(a,b,c){a.setGrayed(d)},this)},setChecked:function(a,b){var c=this._getItemFromElementMap(a);if(c!=null){c.setChecked(b);return true}return false},setCheckedElements:function(f){var g=this._list.getItems();g.forEach(function(a,b,c){var d=a.getData();if(d!=null){var e=f.contains(d);if(a.getChecked()!=e){a.setChecked(e)}}})},setGrayed:function(a,b){var c=this._getItemFromElementMap(a);if(c!=null){c.setGrayed(b);return true}return false},setGrayedElements:function(f){var g=this._list.getItems();g.forEach(function(a,b,c){var d=a.getData();if(d!=null){var e=f.contains(d);if(a.getGrayed()!=e){a.setGrayed(e)}}})}});$package("");