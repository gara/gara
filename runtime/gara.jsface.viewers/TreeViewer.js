gara.provide("gara.jsface.viewers.TreeViewer");gara.require("gara.jsface.viewers.AbstractTreeViewer");gara.require("gara.jsface.viewers.TreeViewerRow");gara.require("gara.jswt.JSWT");gara.require("gara.jswt.widgets.Tree");gara.require("gara.jswt.widgets.TreeItem");$package("gara.jsface.viewers");$class("TreeViewer",{$extends:gara.jsface.viewers.AbstractTreeViewer,$constructor:function(a,b){if($class.instanceOf(a,gara.jswt.widgets.Tree)){this._tree=a}else{this._tree=new gara.jswt.widgets.Tree(a,b)}this._hookControl(this._tree);this._cachedRow=null},_createNewRowPart:function(a,b,c){if(a==null){if(c>=0){return this._getViewerRowFromItem(new gara.jswt.widgets.TreeItem(this._tree,b,c))}return this._getViewerRowFromItem(new gara.jswt.widgets.TreeItem(this._tree,b))}if(c>=0){return this._getViewerRowFromItem(new gara.jswt.widgets.TreeItem(a.getItem(),gara.jswt.JSWT.NONE,c))}return this._getViewerRowFromItem(new gara.jswt.widgets.TreeItem(a.getItem(),gara.jswt.JSWT.NONE))},_getColumnViewerOwner:function(a){if(a<0||(a>0&&a>=this._tree.getColumnCount())){return null}if(this._tree.getColumnCount()==0){return this._tree}return this._tree.getColumn(a)},doGetColumnCount:function(){return this._tree.getColumnCount()},_doGetSelection:function(){return this._tree.getSelection()},_getChildren:function(a){if($class.instanceOf(a,gara.jswt.widgets.TreeItem)||$class.instanceOf(a,gara.jswt.widgets.Tree)){return a.getItems().concat([])}return null},getControl:function(){return this._tree},_getExpanded:function(a){return a.getExpanded()},_getViewerRowFromItem:function(a){if(this._cachedRow==null){this._cachedRow=new gara.jsface.viewers.TreeViewerRow(a)}else{this._cachedRow.setItem(a)}return this._cachedRow},getTree:function(){return this._tree},_newItem:function(a,b,c){var d;if($class.instanceOf(a,gara.jswt.widgets.TreeItem)){d=this._createNewRowPart(this._getViewerRowFromItem(a),b,c).getItem()}else{d=this._createNewRowPart(null,b,c).getItem()}return d},_setExpanded:function(a,b){a.setExpanded(b)},_treeRemoveAll:function(){this._tree.removeAll()}});$package("");