gara.provide("gara.jsface.viewers.PatternFilter");gara.require("gara.jsface.viewers.ViewerFilter");gara.require("gara.jsface.viewers.ITableLabelProvider");gara.require("gara.jsface.viewers.ITreeContentProvider");$package("gara.jsface.viewers");$class("PatternFilter",{$extends:gara.jsface.viewers.ViewerFilter,$constructor:function(){this._pattern=""},isElementVisible:function(a,c){return this._isParentMatch(a,c)||this._isLeafMatch(a,c)},_isLeafMatch:function(a,c){var d=a.getLabelProvider();if($class.instanceOf(d,gara.jsface.viewers.ITableLabelProvider)){var e=a.getControl().getColumnCount();for(var f=0;f<e;++f){var b=d.getColumnText(c,f);if(b!=null){var g=this._match(b);if(g){return g}}}return false}else{var b=d.getText(c);if(b==null){return false}return this._match(b)}},_isParentMatch:function(a,c){var d=a.getContentProvider();if($class.instanceOf(d,gara.jsface.viewers.ITreeContentProvider)){var e=d.getChildren(c);if(e!=null&&e.length>0){var f=false;for(var b=0;b<e.length&&!f;b++){f=this.isElementVisible(a,e[b])}return f}}return false},_match:function(a){return a.toLowerCase().indexOf(this._pattern.toLowerCase())!=-1},select:function(a,c,d){if(this._pattern==""){return true}var e=this.isElementVisible(a,d);return e},setPattern:function(a){this._pattern=a}});$package("");