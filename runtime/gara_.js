var gara={};(function(){gara.config={global:window,baseUrl:"./",disableIncludes:false,libPath:"../lib"};gara.version="1.0b3";var k=document.getElementsByTagName("script");for(var i=0;i<k.length;++i){if(k[i].src&&(k[i].src.indexOf("gara.js")!=-1)){gara.config.baseUrl=k[i].src.substring(0,k[i].src.lastIndexOf("/"));break}}if(typeof(garaConfig)=="object"){for(var l in garaConfig){gara.config[l]=garaConfig[l]}}gara.XHR=(function(){var c=null,d=['Msxml2.XMLHTTP','Microsoft.XMLHTTP','Msxml2.XMLHTTP.4.0'];return function(){if(c===null){if(typeof XMLHttpRequest!=="undefined"){c=XMLHttpRequest}else{for(var a=0;a<3;++a){var b=d[a];try{c=ActiveXObject(b)}catch(l){}}}}return new c()}})();gara.loadScript=function(a){var b=gara.XHR();b.open('GET',a,false);try{b.send(null);var c=b.responseText;if(window.execScript){window.execScript(c);return null}return gara.config.global.eval?gara.config.global.eval(c):eval(c)}catch(l){console.error(l)}};if(typeof(base2)=="undefined"||typeof(base2.DOM)=="undefined"){gara.loadScript(gara.config.libPath+"/base2-dom-fp.js")}base2.JavaScript.bind(window);var s=[];var m=[];var n={"gara.app":"gara.app","gara.jsface.action":"gara.jsface.action","gara.jsface.viewers":"gara.jsface.viewers","gara.jswt.widgets":"gara.jswt.widgets","gara.jswt.events":"gara.jswt.events","gara.jswt":"gara.jswt","gara":"gara"};gara.setPackagePath=function(a,b){n[a]=b};gara.require=function(a){if(gara.config.disableIncludes){return}if(!m.contains(a)){for(var b in n){if(a.match(b)){var c=a.replace(b,"").replace(/\./g,"/");var d=gara.config.baseUrl+"/"+n[b]+c+".js";gara.loadScript(d);break}}}};var o;var j={};gara.provide=function(a){if(!m.contains(a)){o=a;m.push(a)}};gara.use=function(a){if(gara.config.disableIncludes){return}if(!m.contains(a)){if(!j.hasOwnProperty(o)){j[o]=[]}j[o].push(a)}};loadUse=function(a){if(j.hasOwnProperty(a)){for(var b=0;b<j[a].length;b++){var c=j[a][b];if(!m.contains(c)){for(var d in n){if(c.match(d)){var e=c.replace(d,"").replace(/\./g,"/");var h=gara.config.baseUrl+"/"+n[d]+e+".js";gara.loadScript(h);break}}}}}};Class=function(){};var q=false,r=/xyz/.test(function(){xyz})?/\$super/:/.*/;Class.extend=function(e){var h=this.prototype,f,p={};q=true;f=new this();q=false;for(key in e){f[key]=typeof e[key]=="function"&&typeof h[key]=="function"&&r.test(e[key])?(function(c,d){return function(){var a=this.$super,b;this.$super=h[c];b=d.apply(this,arguments);this.$super=a;return b}})(key,e[key]):e[key]}function g(){if(!q&&this.$constructor){this.$constructor.apply(this,arguments)}}g.prototype=f;g.constructor=g;g.extend=arguments.callee;return g};gara.Class=function(a,b){var c,d,e,h,f,p=gara.config.global,g="";b=b||a;if(!Object.prototype.hasOwnProperty.call(b,"toString")&&b!==a){b.toString=function(){return"["+a+"]"}}b.getClass=function(){return a};if(b===a){f=b.$extends||Class;if(this instanceof gara.Class){h=f.extend(b);return new h()}return f.extend(b)}else{f=b.$extends||Class;c=a.split(".");for(e=0;e<c.length-1;++e){d=p[c[e]];g+="."+c[e];if(typeof d=="undefined"){d={toString:function(){return"["+g.substring(1)+"]"}};p[c[e]]=d}p=d}this.base=f.extend(b);eval(a+" = this.base");loadUse(a)}};gara.Class("Exception",{$constructor:function(a){this.message=String(a)},getName:function(){return this.getClass()},getMessage:function(){return this.message},toString:function(){return"[error "+this.getName()+"] "+this.getMessage()}})})();