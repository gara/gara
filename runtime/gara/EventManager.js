gara.provide("gara.EventManager");gara.Singleton("gara.EventManager",{listeners:{},$constructor:function(){base2.DOM.EventTarget(window);window.addEventListener("unload",this,false)},addListener:function(a,b,c,e){base2.DOM.EventTarget(a);a.addEventListener(b,c,e||false);var d=new Date();var f=""+d.getDay()+d.getHours()+d.getMinutes()+d.getSeconds()+d.getMilliseconds();if(!a._garaHash){a._garaHash=a.toString()+f}if(!Object.prototype.hasOwnProperty.call(c,"_garaHash")){c._garaHash=c.toString()+f}var h=""+a._garaHash+b+c._garaHash;var g={domNode:a,type:b,listener:c};this.listeners[h]=g;return g},handleEvent:function(a){this.unregisterAllEvents()},removeListener:function(a,b,c){if(a){a.removeEventListener(b,c,false);if(a._garaHash&&c.hasOwnProperty("_garaHash")){var e=a._garaHash+b+c._garaHash;if(this.listeners[e]){delete this.listeners[e]}}}},unregisterAllEvents:function(){var a,b;for(a in this.listeners){b=this.listeners[a];this.removeListener(b.domNode,b.type,b.listener)}}});