<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>gara.jsface.viewers.checkboxlistviewer (dev)</title>
<link rel="stylesheet" href="../../res/gara.css" type="text/css"/>
<link rel="stylesheet" href="../../themes/sand/sand.css" type="text/css"/>
<script type="text/javascript" src="../../lib/class-debug.js"></script>
<script type="text/javascript" src="../../lib/base2-dom-fp.js"></script>
<script type="text/javascript" src="../garadev.js"></script>

<script type="text/javascript" src="../../src/gara/_prepend.js"></script>
<script type="text/javascript" src="../../src/gara/Package.class.js"></script>
<script type="text/javascript" src="../../src/gara/Utils.class.js"></script>
<script type="text/javascript" src="../../src/gara/EventManager.class.js"></script>
<script type="text/javascript" src="../../src/gara/OutOfBoundsException.class.js"></script>
<script type="text/javascript" src="../../src/gara/_append.js"></script>

<script type="text/javascript" src="../../src/gara.jswt/_prepend.js"></script>
<script type="text/javascript" src="../../src/gara.jswt/JSWT.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt/JSWTException.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt/_append.js"></script>

<script type="text/javascript" src="../../src/gara.jswt.events/_prepend.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.events/FocusListener.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.events/SelectionListener.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.events/MouseListener.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.events/KeyListener.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.events/_append.js"></script>

<script type="text/javascript" src="../../src/gara.jswt.widgets/_prepend.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/FocusManager.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/Widget.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/Item.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/Control.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/Scrollable.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/Composite.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/List.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/ListItem.class.js"></script>
<script type="text/javascript" src="../../src/gara.jswt.widgets/_append.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/_prepend.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/IBaseLabelProvider.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ILabelProvider.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ITableLabelProvider.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/LabelProvider.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/BaseLabelProvider.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/CellLabelProvider.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ColumnLabelProvider.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/WrappedViewerLabelProvider.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/TableColumnViewerLabelProvider.class.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/IContentProvider.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/IStructuredContentProvider.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ITreeContentProvider.interface.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/ISelectionChangedListener.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ICheckStateListener.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ICheckable.interface.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/CheckStateChangedEvent.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/SelectionChangedEvent.class.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/Viewer.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/TableViewerRow.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ViewerCell.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ViewerColumn.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ViewerRow.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ContentViewer.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/StructuredViewer.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/AbstractListViewer.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ListViewer.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/CheckboxListViewer.class.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/ViewerComparator.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/ViewerSorter.class.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/ViewerFilter.class.js"></script>
<script type="text/javascript" src="../../src/gara.jsface.viewers/PatternFilter.class.js"></script>

<script type="text/javascript" src="../../src/gara.jsface.viewers/_append.js"></script>
<script type="text/javascript"><!--
$class("Controller", {
	$implements : [gara.jsface.viewers.ILabelProvider, gara.jsface.viewers.IStructuredContentProvider, gara.jsface.viewers.ICheckStateListener, gara.jsface.viewers.ISelectionChangedListener],

	$constructor : function() {
		this._model = null;
	},
	
	checkStateChanged : function(event) {
		//console.log("Check State Changed for: " + this.getText(event.getElement()) + ", checked: " + event.getState());
	},
	
	getImage : function(element) {
		return null;
	},

	getText : function(element) {
		return element;
	},
	
	getElements : function(inputElement) {
		return this._model;
	},
	
	inputChanged : function(viewer, oldInput, newInput) {
		this._model = newInput;
	},
	
	isLabelProperty : function(element, property) {},
	
	selectionChanged : function(event) {
		//console.log("Selection changed: " + this.getText(event.getSelection()[0]));
	}
});

var controller, view, filter;
var model = ["ameise", "zebra", "Chamaeleon", "beluga"];

function main() {
	try {
		controller = new Controller();
		view = new gara.jsface.viewers.CheckboxListViewer.newCheckList(document.getElementById("container"), gara.jswt.JSWT.MULTI | gara.jswt.JSWT.FULL_SELECTION);
		view.setContentProvider(controller);
		view.setLabelProvider(controller);
		view.addCheckStateListener(controller);
		view.addSelectionChangedListener(controller);
		view.setInput(model);
	} catch(e) {
		var message = "";
		for (p in e) {
			message += p + ": " + e[p] + "\n";
		}
		console.log(message);
	}
}

var checkedState, grayedState;

function checkAll(state) {
	view.setAllChecked(state);
}

function grayAll(state) {
	view.setAllGrayed(state);
}

function toggleSelectedCheckState() {
	var item = view.getControl().getSelection()[0];
	item.setChecked(!item.getChecked());
}

function toggleSelectedGrayedState() {
	var item = view.getControl().getSelection()[0];
	item.setGrayed(!item.getGrayed());
}

function saveCheckedState() {
	checkedState = view.getCheckedElements();
}

function saveGrayedState() {
	grayedState = view.getGrayedElements();
}

function restoreCheckedState() {
	view.setCheckedElements(checkedState);
}

function restoreGrayedState() {
	view.setGrayedElements(grayedState);
}
--></script>
<style type="text/css">
label {display: block;}
</style>
</head>
<body style="padding: 10px;">
<h1 style="font-size: 24px; margin-bottom: 10px;">gara.jsface.viewers.CheckboxListViewer</h1>
<fieldset style="width: 300px; float: right;">
<legend>Widget Control</legend>
<label>Set All:</label>
<input type="checkbox" id="checkStateAll"/> Checked <input type="button" value="Set Check State" onclick="checkAll(document.getElementById('checkStateAll').checked)"/><br/>
<input type="checkbox" id="grayedStateAll"/> Grayed <input type="button" value="Set Grayed State" onclick="grayAll(document.getElementById('grayedStateAll').checked)"/>

<label>With Selected:</label>
<input type="button" onclick="toggleSelectedCheckState()" value="Toggle Checked State"/>
<input type="button" onclick="toggleSelectedGrayedState()" value="Toggle Grayed State"/>

<label>Savings:</label>
<input type="button" onclick="saveCheckedState()" value="Save Checked State"/>
<input type="button" onclick="saveGrayedState()" value="Save Grayed State"/>

<label>Restore:</label>
<input type="button" onclick="restoreCheckedState()" value="Restore Checked State"/>
<input type="button" onclick="restoreGrayedState()" value="Restore Grayed State"/>
</fieldset>
<div id="container" class="sand" style="width: 300px;">
</div>
<script type="text/javascript">main();</script>
</body>
</html>