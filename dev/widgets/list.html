<!doctype html>
<html class="gara sand" role="application">
<head>
<meta charset="utf-8" />
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache, must-revalidate"> 
<title>gara.widgets.List (dev)</title>
<link rel="stylesheet" href="../../css/themes/sand/sand.css" type="text/css"/>
<script src="../../bin/gara.js"></script>
<script>
var list;

function main() {
	list = new gara.widgets.List(window.document.getElementById("container"), {
		check: true,
		multi: true,
		border: true
	});

	for (var i = 1; i <= 25; i++)
		new gara.widgets.ListItem(list, {text: 'Item ' + i});

	

	list.setHeight(200);
	//list.update();
/*
	var listener = new Listener();
	list.addSelectionListener(listener);
	//list.addMouseListener(listener);
	//list.addKeyListener(listener);
	list.addListener("keydown", listener);
	list.addMouseListener(listener);
	list.getItems()[2].addListener("keydown", listener);
	list.addFocusListener({
		focusGained : function (e) {
			console.log("FocusListener gained Focus");
		}
	});*/
}

/*
gara.Class("Listener", {
	widgetSelected : function (e) {
		var item = e.item;
		var widget = e.widget;
		var checked = e.detail == gara.CHECK || false;
//		console.log("Item: " + item + ", widget: " + widget + ", checked: " + checked);
//		console.log("Listener.widgetSelected, widget: " + e.widget + ", item: " + e.item);
	},

	handleEvent : function (e) {
		console.log("Listener.handleEvent("+e.type+"), widget: " + e.target.widget + ", target: " + e.target + ", bubbling: " + e.bubbles);
	},

	mouseDown : function (e) {
		console.log("Listener.mouseDown, widget: " + e.widget + ", item: " + e.item + " bubble: " + e.bubbles);
	},

	keyPressed : function (e) {
		console.log("Listener.keyPressed, widget: " + e.widget + ", item: " + e.item);
	},
});*/

function dispose() {
	list.dispose();
}

function getSelectedItem() {
	return list.getSelection()[0];
}

function toggleGrayed() {
	var item = getSelectedItem();
	item.setGrayed(!item.getGrayed());
}

function toggleChecked() {
	var item = getSelectedItem();
	item.setChecked(!item.getChecked());
}

function getTopItem() {
	var item = list.getTopItem();
	console.log("Top Item: " + item.getText());
}

function showSelection() {
	list.showSelection();
}

function showItem(index) {
	list.showItem(list.getItems()[index]);
}

function setTopItem(index) {
	list.setTopItem(list.getItems()[index]);
}
</script>
</head>
<body style="padding: 10px;">
<h1 style="font-size: 24px; margin-bottom: 10px;">gara.widgets.List</h1>
<fieldset>
	<legend>Options</legend>
	<!-- 
	<input type="button" value="dispose()" onclick="dispose()"/>
	<input type="button" value="Toggle Checked" onclick="toggleChecked()"/>-->
	<input type="button" value="Toggle Grayed" onclick="toggleGrayed()"/>
	<input type="button" value="getTopItem()" onclick="getTopItem()"/>
	<input type="button" value="showSelection()" onclick="showSelection()"/>
	<input type="button" value="showItem(Item 20)" onclick="showItem(19)"/>
	<input type="button" value="setTopItem(Item 10)" onclick="setTopItem(9)"/>
</fieldset>
<div id="container" class="sand" style="width: 300px; margin-top: 5px;"></div>
<script>define('main', ["gara/widgets/List", "gara/widgets/ListItem"], main);</script>
</body>
</html>